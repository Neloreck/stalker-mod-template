import { describe, expect, it } from "@jest/globals";

import { AnyObject } from "@/engine/lib/types";
describe("'object' conditions declaration", () => {
  const checkBinding = (name: string, container: AnyObject = global) => {
    expect(container["xr_conditions"][name]).toBeDefined();
  };

  it("should correctly inject external methods for game", () => {
    require("@/engine/scripts/declarations/conditions/object");

    checkBinding("is_monster_snork");
    checkBinding("is_monster_dog");
    checkBinding("is_monster_psy_dog");
    checkBinding("is_monster_polter");
    checkBinding("is_monster_tushkano");
    checkBinding("is_monster_burer");
    checkBinding("is_monster_controller");
    checkBinding("is_monster_flesh");
    checkBinding("is_monster_boar");
    checkBinding("fighting_dist_ge");
    checkBinding("fighting_dist_le");
    checkBinding("enemy_in_zone");
    checkBinding("check_npc_name");
    checkBinding("check_enemy_name");
    checkBinding("see_npc");
    checkBinding("is_wounded");
    checkBinding("distance_to_obj_on_job_le");
    checkBinding("is_obj_on_job");
    checkBinding("obj_in_zone");
    checkBinding("one_obj_in_zone");
    checkBinding("health_le");
    checkBinding("heli_health_le");
    checkBinding("story_obj_in_zone_by_name");
    checkBinding("npc_in_zone");
    checkBinding("heli_see_npc");
    checkBinding("enemy_group");
    checkBinding("hitted_by");
    checkBinding("hitted_on_bone");
    checkBinding("best_pistol");
    checkBinding("deadly_hit");
    checkBinding("killed_by");
    checkBinding("is_alive_all");
    checkBinding("is_alive_one");
    checkBinding("is_alive");
    checkBinding("is_dead_all");
    checkBinding("is_dead_one");
    checkBinding("is_dead");
    checkBinding("story_object_exist");
    checkBinding("npc_has_item");
    checkBinding("has_enemy");
    checkBinding("has_actor_enemy");
    checkBinding("see_enemy");
    checkBinding("heavy_wounded");
    checkBinding("mob_has_enemy");
    checkBinding("mob_was_hit");
    checkBinding("squad_in_zone");
    checkBinding("squad_has_enemy");
    checkBinding("squad_in_zone_all");
    checkBinding("squads_in_zone_b41");
    checkBinding("target_squad_name");
    checkBinding("target_smart_name");
    checkBinding("squad_exist");
    checkBinding("is_squad_commander");
    checkBinding("squad_npc_count_ge");
    checkBinding("quest_npc_enemy_actor");
    checkBinding("distance_to_obj_ge");
    checkBinding("distance_to_obj_le");
    checkBinding("active_item");
    checkBinding("check_bloodsucker_state");
    checkBinding("in_dest_smart_cover");
    checkBinding("dist_to_story_obj_ge");
    checkBinding("has_enemy_in_current_loopholes_fov");
    checkBinding("npc_talking");
    checkBinding("see_actor");
    checkBinding("object_exist");
    checkBinding("squad_curr_action");
    checkBinding("dead_body_searching");
    checkBinding("check_enemy_smart");
    checkBinding("polter_ignore_actor");
    checkBinding("burer_gravi_attack");
    checkBinding("burer_anti_aim");
    checkBinding("_used");
    checkBinding("is_playing_sound");
    checkBinding("is_door_blocked_by_npc");
    checkBinding("check_deimos_phase");
    checkBinding("animpoint_reached");
    checkBinding("upgrade_hint_kardan");
  });
});
