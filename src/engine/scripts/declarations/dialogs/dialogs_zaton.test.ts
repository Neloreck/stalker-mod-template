import { describe, it } from "@jest/globals";

import { AnyObject, TName } from "@/engine/lib/types";

describe("'dialogs_zaton' external callbacks", () => {
  const checkBinding = (name: TName, container: AnyObject = global) => {
    if (!container["dialogs_zaton"][name]) {
      throw new Error(`Expected '${name}' callback to be declared.`);
    }
  };

  it("should correctly inject dialog functors", () => {
    require("@/engine/scripts/declarations/dialogs/dialogs_zaton");

    checkBinding("zat_b30_owl_stalker_trader_actor_has_item_to_sell");
    checkBinding("zat_b30_owl_can_say_about_heli");
    checkBinding("zat_b30_actor_has_1000");
    checkBinding("zat_b30_actor_has_200");
    checkBinding("zat_b30_actor_has_pri_b36_monolith_hiding_place_pda");
    checkBinding("zat_b30_actor_has_pri_b306_envoy_pda");
    checkBinding("zat_b30_actor_has_jup_b10_strelok_notes_1");
    checkBinding("zat_b30_actor_has_jup_b10_strelok_notes_2");
    checkBinding("zat_b30_actor_has_jup_b10_strelok_notes_3");
    checkBinding("zat_b30_actor_has_detector_scientific");
    checkBinding("zat_b30_actor_has_device_flash_snag");
    checkBinding("zat_b30_actor_has_device_pda_port_bandit_leader");
    checkBinding("zat_b30_actor_has_jup_b10_ufo_memory");
    checkBinding("zat_b30_actor_has_jup_b202_bandit_pda");
    checkBinding("zat_b30_transfer_1000");
    checkBinding("zat_b30_transfer_200");
    checkBinding("zat_b30_sell_pri_b36_monolith_hiding_place_pda");
    checkBinding("zat_b30_sell_pri_b306_envoy_pda");
    checkBinding("zat_b30_sell_jup_b207_merc_pda_with_contract");
    checkBinding("zat_b30_sell_jup_b10_strelok_notes_1");
    checkBinding("zat_b30_sell_jup_b10_strelok_notes_2");
    checkBinding("zat_b30_sell_jup_b10_strelok_notes_3");
    checkBinding("jup_a9_owl_stalker_trader_sell_jup_a9_evacuation_info");
    checkBinding("jup_a9_owl_stalker_trader_sell_jup_a9_meeting_info");
    checkBinding("jup_a9_owl_stalker_trader_sell_jup_a9_losses_info");
    checkBinding("jup_a9_owl_stalker_trader_sell_jup_a9_delivery_info");
    checkBinding("zat_b30_owl_stalker_trader_sell_device_flash_snag");
    checkBinding("zat_b30_owl_stalker_trader_sell_device_pda_port_bandit_leader");
    checkBinding("zat_b30_owl_stalker_trader_sell_jup_b10_ufo_memory");
    checkBinding("zat_b30_owl_stalker_trader_sell_jup_b202_bandit_pda");
    checkBinding("zat_b14_bar_transfer_money");
    checkBinding("zat_b14_transfer_artefact");
    checkBinding("actor_has_artefact");
    checkBinding("actor_hasnt_artefact");
    checkBinding("zat_b7_give_bandit_reward_to_actor");
    checkBinding("zat_b7_give_stalker_reward_to_actor");
    checkBinding("zat_b7_give_stalker_reward_2_to_actor");
    checkBinding("zat_b7_rob_actor");
    checkBinding("zat_b7_killed_self_precond");
    checkBinding("zat_b7_squad_alive");
    checkBinding("zat_b103_transfer_merc_supplies");
    checkBinding("zat_b33_set_counter_10");
    checkBinding("zat_b33_counter_ge_2");
    checkBinding("zat_b33_counter_ge_4");
    checkBinding("zat_b33_counter_ge_8");
    checkBinding("zat_b33_counter_le_2");
    checkBinding("zat_b33_counter_le_4");
    checkBinding("zat_b33_counter_le_8");
    checkBinding("zat_b33_counter_de_2");
    checkBinding("zat_b33_counter_de_4");
    checkBinding("zat_b33_counter_de_8");
    checkBinding("zat_b33_counter_eq_10");
    checkBinding("zat_b33_counter_ne_10");
    checkBinding("zat_b103_transfer_mechanic_toolkit_2");
    checkBinding("check_npc_name_mechanics");
    checkBinding("zat_b33_transfer_first_item");
    checkBinding("zat_b33_transfer_second_item");
    checkBinding("zat_b33_transfer_third_item");
    checkBinding("zat_b33_transfer_fourth_item");
    checkBinding("zat_b33_transfer_fifth_item");
    checkBinding("zat_b33_transfer_safe_container");
    checkBinding("zat_b33_aractor_has_habar");
    checkBinding("zat_b33_actor_hasnt_habar");
    checkBinding("zat_b33_actor_has_needed_money");
    checkBinding("zat_b33_actor_hasnt_needed_money");
    checkBinding("zat_b33_relocate_money");
    checkBinding("zat_b29_create_af_in_anomaly");
    checkBinding("zat_b29_linker_give_adv_task");
    checkBinding("zat_b29_actor_do_not_has_adv_task_af");
    checkBinding("zat_b29_actor_has_adv_task_af");
    checkBinding("zat_b29_linker_get_adv_task_af");
    checkBinding("zat_b29_actor_has_exchange_item");
    checkBinding("zat_b29_actor_exchange");
    checkBinding("zat_b30_transfer_percent");
    checkBinding("zat_b30_npc_has_detector");
    checkBinding("zat_b30_actor_second_exchange");
    checkBinding("zat_b30_actor_exchange");
    checkBinding("zat_b30_actor_has_two_detectors");
    checkBinding("actor_has_nimble_weapon");
    checkBinding("zat_b51_robbery");
    checkBinding("zat_b51_rob_nimble_weapon");
    checkBinding("give_compass_to_actor");
    checkBinding("zat_b51_randomize_item");
    checkBinding("zat_b51_give_prepay");
    checkBinding("zat_b51_has_prepay");
    checkBinding("zat_b51_hasnt_prepay");
    checkBinding("zat_b51_buy_item");
    checkBinding("zat_b51_refuse_item");
    checkBinding("zat_b51_has_item_cost");
    checkBinding("zat_b51_hasnt_item_cost");
    checkBinding("zat_b12_actor_have_documents");
    checkBinding("zat_b12_actor_transfer_documents");
    checkBinding("zat_b3_actor_got_toolkit");
    checkBinding("give_toolkit_3");
    checkBinding("give_toolkit_1");
    checkBinding("if_actor_has_toolkit_1");
    checkBinding("give_toolkit_2");
    checkBinding("if_actor_has_toolkit_2");
    checkBinding("zat_b215_counter_greater_3");
    checkBinding("zat_b40_transfer_notebook");
    checkBinding("zat_b40_transfer_merc_pda_1");
    checkBinding("zat_b40_transfer_merc_pda_2");
    checkBinding("zat_b29_actor_do_not_has_adv_task_af_1");
    checkBinding("zat_b29_actor_do_not_has_adv_task_af_2");
    checkBinding("zat_b29_actor_do_not_has_adv_task_af_3");
    checkBinding("zat_b29_actor_do_not_has_adv_task_af_4");
    checkBinding("zat_b29_actor_do_not_has_adv_task_af_5");
    checkBinding("zat_b29_actor_do_not_has_adv_task_af_6");
    checkBinding("zat_b29_actor_do_not_has_adv_task_af_7");
    checkBinding("zat_b29_actor_do_not_has_adv_task_af_8");
    checkBinding("zat_b29_actor_has_adv_task_af_1");
    checkBinding("zat_b29_actor_has_adv_task_af_2");
    checkBinding("zat_b29_actor_has_adv_task_af_3");
    checkBinding("zat_b29_actor_has_adv_task_af_4");
    checkBinding("zat_b29_actor_has_adv_task_af_5");
    checkBinding("zat_b29_actor_has_adv_task_af_6");
    checkBinding("zat_b29_actor_has_adv_task_af_7");
    checkBinding("zat_b29_actor_has_adv_task_af_8");
    checkBinding("zat_b30_transfer_detector_to_actor");
    checkBinding("zat_b30_give_owls_share_to_actor");
    checkBinding("zat_b30_actor_has_compass");
    checkBinding("zat_b30_transfer_af_from_actor");
    checkBinding("zat_b30_barmen_has_percent");
    checkBinding("zat_b30_barmen_do_not_has_percent");
    checkBinding("zat_b30_actor_has_noah_pda");
    checkBinding("zat_b30_sell_noah_pda");
    checkBinding("zat_b40_actor_has_notebook");
    checkBinding("zat_b40_actor_has_merc_pda_1");
    checkBinding("zat_b40_actor_has_merc_pda_2");
    checkBinding("if_actor_has_toolkit_3");
    checkBinding("give_vodka");
    checkBinding("if_actor_has_vodka");
    checkBinding("actor_has_more_then_need_money_to_buy_battery");
    checkBinding("actor_has_less_then_need_money_to_buy_battery");
    checkBinding("relocate_need_money_to_buy_battery");
    checkBinding("give_actor_battery");
    checkBinding("give_actor_zat_a23_access_card");
    checkBinding("give_zat_a23_gauss_rifle_docs");
    checkBinding("return_zat_a23_gauss_rifle_docs");
    checkBinding("if_actor_has_zat_a23_gauss_rifle_docs");
    checkBinding("if_actor_has_gauss_rifle");
    checkBinding("give_tech_gauss_rifle");
    checkBinding("give_actor_repaired_gauss_rifle");
    checkBinding("zat_b215_actor_has_money_poor");
    checkBinding("zat_b215_actor_has_no_money_poor");
    checkBinding("zat_b215_actor_has_money_poor_pripyat");
    checkBinding("zat_b215_actor_has_no_money_poor_pripyat");
    checkBinding("zat_b215_actor_has_money_rich");
    checkBinding("zat_b215_actor_has_no_money_rich");
    checkBinding("zat_b215_actor_has_money_rich_pripyat");
    checkBinding("zat_b215_actor_has_no_money_rich_pripyat");
    checkBinding("zat_b215_relocate_money_poor");
    checkBinding("zat_b215_relocate_money_poor_pripyat");
    checkBinding("zat_b215_relocate_money_rich");
    checkBinding("zat_b215_relocate_money_rich_pripyat");
    checkBinding("zat_b44_actor_has_pda_global");
    checkBinding("zat_b44_actor_has_not_pda_global");
    checkBinding("zat_b44_actor_has_pda_barge");
    checkBinding("zat_b44_actor_has_pda_joker");
    checkBinding("zat_b44_actor_has_pda_both");
    checkBinding("zat_b44_transfer_pda_barge");
    checkBinding("zat_b44_transfer_pda_joker");
    checkBinding("zat_b44_transfer_pda_both");
    checkBinding("zat_b44_frends_dialog_enabled");
    checkBinding("zat_b53_if_actor_has_detector_advanced");
    checkBinding("zat_b53_transfer_medkit_to_npc");
    checkBinding("is_zat_b106_hunting_time");
    checkBinding("is_not_zat_b106_hunting_time");
    checkBinding("zat_b53_if_actor_hasnt_detector_advanced");
    checkBinding("zat_b53_transfer_detector_advanced_to_actor");
    checkBinding("zat_b53_transfer_fireball_to_actor");
    checkBinding("zat_b53_transfer_medkit_to_actor");
    checkBinding("zat_b106_soroka_reward");
    checkBinding("zat_b103_actor_has_needed_food");
    checkBinding("zat_b106_transfer_weap_to_actor");
    checkBinding("zat_b106_give_reward");
    checkBinding("zat_b3_tech_drinks_precond");
    checkBinding("zat_b106_soroka_gone");
    checkBinding("zat_b106_soroka_not_gone");
    checkBinding("zat_b22_actor_has_proof");
    checkBinding("zat_b22_transfer_proof");
    checkBinding("zat_b5_stalker_transfer_money");
    checkBinding("zat_b5_dealer_full_revard");
    checkBinding("zat_b5_dealer_easy_revard");
    checkBinding("zat_b5_bandits_revard");
    checkBinding("zat_a23_actor_has_access_card");
    checkBinding("zat_a23_transfer_access_card_to_tech");
    checkBinding("zat_b57_stalker_reward_to_actor_detector");
    checkBinding("actor_has_gas");
    checkBinding("actor_has_not_gas");
    checkBinding("zat_b57_actor_has_money");
    checkBinding("zat_b57_actor_hasnt_money");
    checkBinding("zat_b57_transfer_gas_money");
  });
});
